import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Design a personalized study plan based on the user's preferences, topic-tamil language, level of expertise-Beginner, and desired schedule duration- 2025-02-05 to 2025-02-12 (monday, tuesday, friday).The study plan should include the following components: 1.**User Profile Input:** - Topic of interest (e.g., Mathematics, History, Programming) - Level of expertise (e.g., Beginner, Intermediate, Advanced) - Preferred study duration (e.g., daily, weekly, monthly) - Total time commitment (e.g., number of hours per week) 2.**Nature of the Topic:** - Provide a brief overview of the chosen topic, including its significance and applications.3.**Learning Objectives:** - Outline clear learning objectives for the study plan aligned with the user's level and goals.4.**Study Schedule:** - Create a detailed schedule that breaks down the study plan into manageable sessions, including: - Duration of each session - Frequency of study sessions (daily, weekly) - Breaks and review sessions 5.**Learning Resources:** - Recommend a diverse range of learning resources, including: - Books (images, titles, authors, and brief descriptions) - Online courses (thumbnails, platforms, course titles, and links) - Videos or documentaries (thumbnails, platforms and links) - Articles or journals (thumbnails, titles and links) 6.**Assessment:** - Include methods for self-assessment to evaluate progress, such as quizzes, practice tests, or projects.7.**Adjustments:** - Provide guidance on how to modify the study plan based on progress and feedback.Ensure the study plan is clear, organized, and tailored to the unique preferences and needs of the user, and presents the information in a JSON format." },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"personalizedStudyPlan\": {\n    \"userProfile\": {\n      \"topicOfInterest\": \"Tamil Language\",\n      \"levelOfExpertise\": \"Beginner\",\n      \"studyDuration\": \"Feb 5, 2025 - Feb 12, 2025\",\n      \"studyDays\": [\"Mon\", \"Tue\", \"Fri\"],\n      \"totalTimeCommitment\": \"3 hrs/week (1 hr/day)\"\n    },\n    \"topicOverview\": {\n      \"topic\": \"Tamil Language Fundamentals\",\n      \"significance\": \"Tamil is one of the oldest living languages in the world, with a rich literary tradition and cultural heritage. Learning Tamil opens doors to understanding Tamil culture, literature, and history. It is spoken primarily in Tamil Nadu (India), Sri Lanka, and Singapore.\",\n      \"applications\": \"Understanding Tamil literature, communicating with Tamil speakers, appreciating Tamil culture (music, dance, cinema), travel to Tamil-speaking regions, research in Tamil studies.\"\n    },\n    \"learningObjectives\": [\n      \"Learn the Tamil alphabet (vowels and consonants).\",\n      \"Understand basic Tamil grammar rules (word order, pronouns, verbs).\",\n      \"Expand vocabulary to include common words and phrases used in daily conversation.\",\n      \"Be able to read simple Tamil texts and sentences.\",\n      \"Practice basic Tamil pronunciation.\",\n      \"Construct simple sentences in Tamil.\"\n    ],\n    \"studySchedule\": {\n      \"weekOverview\": [\n        {\n          \"week\": \"Feb 5 - Feb 12, 2025\",\n          \"topic\": \"Introduction to Tamil Alphabet and Basic Vocabulary\",\n          \"mon\": {\n            \"date\": \"Feb 5, 2025\",\n            \"duration\": \"1 hr\",\n            \"activities\": [\n              \"30 mins: Learn the Tamil vowels (உயிர் எழுத்துக்கள்) - pronunciation and writing. (Resource: Online Tamil Alphabet Chart with audio)\",\n              \"30 mins: Learn 5-10 basic Tamil words (e.g., வணக்கம் (Vanakkam - Hello), நன்றி (Nandri - Thank you), தயவுசெய்து (Dayavu seidhu - Please)). Practice pronunciation and writing.\"\n            ]\n          },\n          \"tue\": {\n            \"date\": \"Feb 6, 2025\",\n            \"duration\": \"1 hr\",\n            \"activities\": [\n              \"30 mins: Learn the first set of Tamil consonants (மெய் எழுத்துக்கள்) - pronunciation and writing. Focus on sounds closest to English.\",\n              \"30 mins: Practice combining the learned consonants with vowels to form simple syllables (e.g., க + அ = க (ka)).\"\n            ]\n          },\n          \"fri\": {\n            \"date\": \"Feb 9, 2025\",\n            \"duration\": \"1 hr\",\n            \"activities\": [\n              \"30 mins: Review the vowels and consonants learned so far. Practice writing and pronunciation.\",\n              \"30 mins: Learn 5-10 new basic Tamil words related to daily life (e.g., நீர் (Neer - Water), உணவு (Unavu - Food), வீடு (Veedu - Home)). Practice pronunciation and writing.\"\n            ]\n          }\n        }\n      ]\n    },\n    \"learningResources\": {\n      \"books\": [\n        {\n          \"image\": \"Replace_with_actual_image_URL_for_Colloquial_Tamil\",\n          \"title\": \"Colloquial Tamil: The Complete Course for Beginners\",\n          \"author\": \"Rupert Snell, John Samuel\",\n          \"description\": \"A comprehensive textbook for beginners covering grammar, vocabulary, and conversational skills. (Find a cover image online to get image URL).\"\n        },\n        {\n          \"image\": \"Replace_with_actual_image_URL_for_Elementary_Tamil\",\n          \"title\": \"Elementary Tamil\",\n          \"author\": \"R.E. Asher\",\n          \"description\": \"Another helpful resource for beginners focusing on fundamental aspects of the Tamil language. (Find a cover image online to get image URL).\"\n        }\n      ],\n      \"onlineCourses\": [\n        {\n          \"thumbnail\": \"Replace_with_actual_thumbnail_URL_for_Udemy_Tamil\",\n          \"platform\": \"Udemy\",\n          \"courseTitle\": \"Learn Tamil - A1 Grammar\",\n          \"link\": \"Replace_with_actual_Udemy_Tamil_course_link (Search Udemy for beginner Tamil courses).\",\n          \"description\": \"Placeholder link, Search on Udemy and get a beginner course\"\n        },\n        {\n          \"thumbnail\": \"Replace_with_actual_thumbnail_URL_for_Skillshare_Tamil\",\n          \"platform\": \"Skillshare\",\n          \"courseTitle\": \"Introduction to Tamil Language\",\n          \"link\": \"Replace_with_actual_Skillshare_Tamil_course_link(Search Skillshare for beginner Tamil courses).\",\n          \"description\": \"Placeholder link, Search on Skillshare and get a beginner course\"\n        }\n      ],\n      \"videosAndDocumentaries\": [\n        {\n          \"thumbnail\": \"Replace_with_actual_thumbnail_URL_for_Youtube_Learn_Tamil\",\n          \"platform\": \"YouTube\",\n          \"title\": \"Learn Tamil Through English\",\n          \"link\": \"Replace_with_actual_Youtube_Learn_Tamil_link. (Search for channels like 'Learn Tamil Through English' or similar)\",\n          \"description\": \"Placeholder link, search youtube\"\n        },\n        {\n          \"thumbnail\": \"Replace_with_actual_thumbnail_URL_for_Tamil_Alphabet_Song\",\n          \"platform\": \"YouTube\",\n          \"title\": \"Tamil Alphabet Song\",\n          \"link\": \"Replace_with_actual_Youtube_Tamil_Alphabet_Song_link.(Search for 'Tamil Alphabet Song for Kids')\",\n          \"description\": \"Placeholder link, search youtube\"\n        }\n      ],\n      \"articlesAndJournals\": [\n        {\n          \"thumbnail\": \"Replace_with_actual_thumbnail_URL_for_Wikipedia_Tamil_Language\",\n          \"title\": \"Wikipedia: Tamil Language\",\n          \"link\": \"https://en.wikipedia.org/wiki/Tamil_language\",\n          \"description\": \"Provides a comprehensive overview of the Tamil language, including its history, grammar, and literature.\"\n        },\n        {\n          \"thumbnail\": \"Replace_with_actual_thumbnail_URL_for_Tamil_Culture_Blog\",\n          \"title\": \"Tamil Culture Blogs (Example)\",\n          \"link\": \"Replace_with_link_to_relevant_Tamil_Culture_Blog (Search for blogs about Tamil culture and language learning).\",\n          \"description\": \"Placeholder link, search for Blog\"\n        }\n      ]\n    },\n    \"assessment\": {\n      \"methods\": [\n        \"Self-assessment quizzes on the Tamil alphabet (using online quiz makers).\",\n        \"Practice writing Tamil letters and words and compare them to online examples.\",\n        \"Record yourself pronouncing Tamil words and phrases and compare them to native speaker pronunciations (online tools).\",\n        \"Attempt to translate simple English sentences into Tamil using learned vocabulary and grammar.\"\n      ],\n      \"frequency\": \"End of each study session and at the end of the week\"\n    },\n    \"adjustments\": {\n      \"guidance\": [\n        \"If you are struggling with pronunciation, spend more time listening to Tamil audio and practicing mimicking the sounds.\",\n        \"If you find the alphabet challenging, break it down into smaller groups and focus on mastering each group before moving on.\",\n        \"Use flashcards to memorize vocabulary.\",\n        \"Find a language partner or tutor for additional support and practice.\",\n        \"Don't be afraid to ask questions and seek help when needed.\"\n      ]\n    }\n  }\n}\n```" },
            ],
        },
    ],
});