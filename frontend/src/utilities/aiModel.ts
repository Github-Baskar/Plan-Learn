import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            "role": "user",
            "parts": [
                { text: "Design a personalized study plan based on the user's preferences, topic-web development, level of expertise-begineer, and desired schedule duration- 2025-02-23 to 2025-03-16 (07:00 pm to 08:00pm)  (monday, friday).The study plan should include the following components: 1.User Profile Input: - Topic of interest (e.g., Mathematics, History, Programming) - Level of expertise (e.g., Beginner, Intermediate, Advanced) - Preferred study duration (e.g., daily, weekly, monthly) - Total duration for study plan (e.g., 5 hrs) 2.Nature of the Topic: - Provide a brief overview of the chosen topic, including its significance and applications.3.Learning Objectives: - Outline clear learning objectives for the study plan aligned with the user's level and goals.4.Study Schedule: - Create a detailed schedule that breaks down the study plan into manageable sessions in day overview breakdown only and activities has time, type, activity for each activities, including: - Duration of each session - Frequency of study sessions (daily, weekly) - Breaks and review sessions 5.Learning Resources: - Recommend a diverse range of learning resources, including: - Books (images, titles, authors, and brief descriptions) - Online courses (thumbnails, platforms, course titles, and links) - Videos or documentaries (thumbnails, platforms and links) - Articles or journals (thumbnails, titles and links) 6.Assessment: - Include methods for self-assessment to evaluate progress, such as quizzes, practice tests, or projects.7.Adjustments: - Provide guidance on how to modify the study plan based on progress and feedback.Ensure the study plan is clear, organized, and tailored to the unique preferences and needs of the user, and presents the information in a JSON format." },
            ],
        },
        {
            "role": "model",
            "parts": [
                { text: "```json\n{\n  \"personalizedStudyPlan\": {\n    \"userProfile\": {\n      \"topicOfInterest\": \"Web Development\",\n      \"levelOfExpertise\": \"Beginner\",\n      \"studyDuration\": \"Feb 20, 2025 - Mar 16, 2025\",\n      \"studyDays\": [\"Monday\", \"Friday\"],\n      \"studyTime\": \"07:00 PM to 08:00 PM\",\n      \"totalTimeCommitment\": \"10 hours (5 hours per week)\"\n    },\n    \"topicOverview\": {\n      \"topic\": \"Web Development Fundamentals\",\n      \"significance\": \"Web development is the foundation of the modern internet, enabling the creation of websites and web applications that are essential for communication, commerce, and entertainment. It's a highly in-demand skill with numerous career opportunities.\",\n      \"applications\": \"Building websites (e-commerce, blogs, portfolios), developing web applications (social media platforms, online tools), creating interactive user interfaces, enabling online data visualization, and supporting online education platforms.\"\n    },\n    \"learningObjectives\": [\n      \"Understand the basic structure of HTML and create simple web pages.\",\n      \"Learn how to style web pages using CSS, including selectors, properties, and layout techniques.\",\n      \"Gain a fundamental understanding of JavaScript and its role in adding interactivity to websites.\",\n      \"Be able to use JavaScript to manipulate the DOM (Document Object Model).\",\n      \"Learn about web development tools and workflows.\",\n      \"Build a simple personal website or portfolio.\"\n    ],\n    \"studySchedule\": {\n      \"dayOverview\": [\n        {\n          \"date\": \"Feb 24, 2025 (Monday)\",\n          \"activities\": [\n            {\n              \"time\": \"07:00 PM - 07:15 PM\",\n              \"type\": \"Introduction\",\n              \"activity\": \"Introduction to Web Development: What is HTML, CSS, and JavaScript? Setting up your development environment (code editor, browser).\"\n            },\n            {\n              \"time\": \"07:15 PM - 07:45 PM\",\n              \"type\": \"HTML Basics\",\n              \"activity\": \"HTML structure: elements, tags, attributes. Creating your first HTML document: headings, paragraphs, lists.\"\n            },\n            {\n              \"time\": \"07:45 PM - 08:00 PM\",\n              \"type\": \"Practice\",\n              \"activity\": \"Practice creating a basic HTML page with headings, paragraphs, and lists.\"\n            }\n          ]\n        },\n        {\n          \"date\": \"Feb 28, 2025 (Friday)\",\n          \"activities\": [\n            {\n              \"time\": \"07:00 PM - 07:10 PM\",\n              \"type\": \"Review\",\n              \"activity\": \"Review basic HTML structure and elements from Monday's session.\"\n            },\n            {\n              \"time\": \"07:10 PM - 07:40 PM\",\n              \"type\": \"HTML Images & Links\",\n              \"activity\": \"Adding images and links to your HTML page. Understanding image attributes and link targets.\"\n            },\n            {\n              \"time\": \"07:40 PM - 08:00 PM\",\n              \"type\": \"Practice\",\n              \"activity\": \"Practice adding images and links to your HTML page.\"\n            }\n          ]\n        },\n        {\n          \"date\": \"Mar 03, 2025 (Monday)\",\n          \"activities\": [\n            {\n              \"time\": \"07:00 PM - 07:10 PM\",\n              \"type\": \"Review\",\n              \"activity\": \"Review adding images and links to the HTML file.\"\n            },\n            {\n              \"time\": \"07:10 PM - 07:40 PM\",\n              \"type\": \"CSS Basics\",\n              \"activity\": \"Introduction to CSS: What is CSS and how does it work? Different ways to include CSS in your HTML page (inline, internal, external).\"\n            },\n            {\n              \"time\": \"07:40 PM - 08:00 PM\",\n              \"type\": \"Practice\",\n              \"activity\": \"Practice adding inline styles to your HTML elements. Change the color and font size of some text.\"\n            }\n          ]\n        },\n        {\n          \"date\": \"Mar 07, 2025 (Friday)\",\n          \"activities\": [\n            {\n              \"time\": \"07:00 PM - 07:10 PM\",\n              \"type\": \"Review\",\n              \"activity\": \"Inline CSS from the HTML file.\"\n            },\n            {\n              \"time\": \"07:10 PM - 07:40 PM\",\n              \"type\": \"CSS Selectors\",\n              \"activity\": \"CSS selectors: element selectors, class selectors, ID selectors.\"\n            },\n            {\n              \"time\": \"07:40 PM - 08:00 PM\",\n              \"type\": \"Practice\",\n              \"activity\": \"Practice using CSS selectors to style different elements on your HTML page using internal css.\"\n            }\n          ]\n        },\n         {\n          \"date\": \"Mar 10, 2025 (Monday)\",\n          \"activities\": [\n            {\n              \"time\": \"07:00 PM - 07:10 PM\",\n              \"type\": \"Review\",\n              \"activity\": \"CSS selectors review from last friday.\"\n            },\n            {\n              \"time\": \"07:10 PM - 07:40 PM\",\n              \"type\": \"CSS Properties\",\n              \"activity\": \"Common CSS properties: color, font-size, font-family, margin, padding.\"\n            },\n            {\n              \"time\": \"07:40 PM - 08:00 PM\",\n              \"type\": \"Practice\",\n              \"activity\": \"Practice using CSS properties to style your HTML page. Experiment with different values and see how they affect the appearance of your page.\"\n            }\n          ]\n        },\n        {\n          \"date\": \"Mar 14, 2025 (Friday)\",\n          \"activities\": [\n            {\n              \"time\": \"07:00 PM - 07:10 PM\",\n              \"type\": \"Review\",\n              \"activity\": \"Recap the usage of the CSS properties.\"\n            },\n            {\n              \"time\": \"07:10 PM - 07:40 PM\",\n              \"type\": \"Basic Javascript\",\n              \"activity\": \"JavaScript introduction. Add simple alert to the html page.\"\n            },\n            {\n              \"time\": \"07:40 PM - 08:00 PM\",\n              \"type\": \"Practice\",\n              \"activity\": \"Practice using JavaScript to change the content of an HTML element dynamically.\"\n            }\n          ]\n        }\n      ]\n    },\n    \"learningResources\": {\n      \"books\": [\n        {\n          \"title\": \"HTML and CSS: Design and Build Websites\",\n          \"author\": \"Jon Duckett\",\n          \"link\": \"https://www.wiley.com/en-us/HTML+and+CSS%3A+Design+and+Build+Websites-p-9781118008188\",\n          \"description\": \"A visually appealing book that provides a comprehensive introduction to HTML and CSS.\"\n        },\n        {\n          \"title\": \"Eloquent JavaScript\",\n          \"author\": \"Marijn Haverbeke\",\n          \"link\": \"https://eloquentjavascript.net/\",\n          \"description\": \"A more advanced book, but covers JavaScript fundamentals in detail. Available for free online.\"\n        }\n      ],\n      \"onlineCourses\": [\n        {\n          \"title\": \"The Web Developer Bootcamp\",\n          \"platform\": \"Udemy\",\n          \"link\": \"https://www.udemy.com/course/the-web-developer-bootcamp/\",\n          \"description\": \"A comprehensive bootcamp-style course covering HTML, CSS, JavaScript, and more.\"\n        },\n        {\n          \"title\": \"HTML, CSS, and Javascript for Web Developers\",\n          \"platform\": \"Coursera\",\n          \"link\": \"https://www.coursera.org/learn/html-css-javascript-for-web-developers\",\n          \"description\": \"A structured course that covers the fundamentals of HTML, CSS, and JavaScript.\"\n        },\n        {\n          \"title\": \"freeCodeCamp Responsive Web Design Certification\",\n          \"platform\": \"freeCodeCamp\",\n          \"link\": \"https://www.freecodecamp.org/learn/responsive-web-design/\",\n          \"description\": \"Learn HTML and CSS by building projects. A great, free, interactive resource.\"\n        }\n      ],\n      \"videosAndDocumentaries\": [\n        {\n          \"title\": \"HTML Crash Course For Absolute Beginners\",\n          \"platform\": \"YouTube (Traversy Media)\",\n          \"link\": \"https://www.youtube.com/watch?v=UB1O30fR-EE\",\n          \"description\": \"A quick and easy introduction to HTML fundamentals.\"\n        },\n        {\n          \"title\": \"CSS Crash Course For Absolute Beginners\",\n          \"platform\": \"YouTube (Traversy Media)\",\n          \"link\": \"https://www.youtube.com/watch?v=yfoY53QXEnI\",\n          \"description\": \"A similar crash course for CSS.\"\n        },\n        {\n          \"title\": \"JavaScript Crash Course For Beginners\",\n          \"platform\": \"YouTube (Traversy Media)\",\n          \"link\": \"https://www.youtube.com/watch?v=hdI2bqOjy3c\",\n          \"description\": \"Same series, but the javascript version\"\n        }\n      ],\n      \"articlesAndJournals\": [\n        {\n          \"title\": \"MDN Web Docs\",\n          \"platform\": \"Mozilla Developer Network\",\n          \"link\": \"https://developer.mozilla.org/en-US/\",\n          \"description\": \"Comprehensive documentation for HTML, CSS, and JavaScript.\"\n        },\n        {\n          \"title\": \"CSS-Tricks\",\n          \"platform\": \"CSS-Tricks\",\n          \"link\": \"https://css-tricks.com/\",\n          \"description\": \"A great resource for learning about CSS techniques and best practices.\"\n        }\n      ]\n    },\n    \"assessment\": {\n      \"methods\": [\n        \"CodePen challenges: Recreate simple website layouts or UI elements using HTML and CSS.\",\n        \"JavaScript quizzes: Test your understanding of JavaScript syntax and concepts using online quizzes.\",\n        \"Build a simple portfolio website: Apply what you've learned to create a basic website showcasing your skills and projects.\",\n        \"Self-assessment checklists: Use checklists to evaluate your understanding of each topic and identify areas for improvement.\"\n      ],\n      \"frequency\": \"End of each week\"\n    },\n    \"adjustments\": {\n      \"guidance\": [\n        \"If you're struggling with a specific topic, try finding different explanations or examples online.\",\n        \"Don't be afraid to ask for help from online communities or forums (Stack Overflow, Reddit).\",\n        \"If you're finding the pace too slow, consider accelerating the schedule or exploring more advanced topics.\",\n        \"Take breaks when needed to avoid burnout.\",\n        \"Focus on building projects to solidify your understanding and gain practical experience.\"\n      ]\n    }\n  }\n}\n```" },
            ],
        },
    ],
});